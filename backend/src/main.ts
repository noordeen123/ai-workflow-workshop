import { NestFactory } from '@nestjs/core';\nimport { ValidationPipe } from '@nestjs/common';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport * as session from 'express-session';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  // Enable CORS for frontend\n  app.enableCors({\n    origin: ['http://localhost:5173', 'http://localhost:3000'],\n    credentials: true,\n  });\n\n  // Global validation pipe\n  app.useGlobalPipes(new ValidationPipe({\n    whitelist: true,\n    transform: true,\n    forbidNonWhitelisted: true,\n  }));\n\n  // Session middleware\n  app.use(\n    session({\n      secret: process.env.SESSION_SECRET || 'taskflow-secret-key',\n      resave: false,\n      saveUninitialized: false,\n      cookie: {\n        secure: process.env.NODE_ENV === 'production',\n        httpOnly: true,\n        maxAge: 24 * 60 * 60 * 1000, // 24 hours\n      },\n    }),\n  );\n\n  // Swagger documentation\n  const config = new DocumentBuilder()\n    .setTitle('TaskFlow API')\n    .setDescription('TaskFlow Kanban Board API Documentation')\n    .setVersion('1.0')\n    .build();\n  const document = SwaggerModule.createDocument(app, config);\n  SwaggerModule.setup('api/docs', app, document);\n\n  // Global prefix\n  app.setGlobalPrefix('api');\n\n  const port = process.env.PORT || 3001;\n  await app.listen(port);\n  console.log(`ðŸš€ TaskFlow API is running on: http://localhost:${port}`);\n  console.log(`ðŸ“š API Documentation: http://localhost:${port}/api/docs`);\n}\nbootstrap();